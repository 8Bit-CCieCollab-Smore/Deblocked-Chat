/* public/style.css */
/* Baseline: gray theme; everything is tweakable via CSS variables. */

:root {
  --bg: #111214;
  --panel: #16171a;
  --panel-2: #1b1d21;
  --text: #e8e8ea;
  --muted: #a0a0a6;
  --border: #23252a;
  --glow: rgba(123, 97, 255, 0.3);

  --banner: #2b2b2f;

  /* gradient name tag (user-customizable) */
  --name-a: #8a8a8f;
  --name-b: #bbbbc2;

  /* bubble */
  --bubble: #1f2126;
  --bubble-me: #2a2d33;

  /* radii */
  --r-xl: 18px;
  --r-lg: 14px;

  /* shadow */
  --shadow-1: 0 8px 28px rgba(0,0,0,.4);
  --ring: 0 0 0 1px var(--border);
}

/* Theme presets (can be toggled via JS by adding .theme-*) */
.theme-violet{
  --bg:#0e0b14; --panel:#151126; --panel-2:#171432; --bubble:#17172a; --bubble-me:#232347;
  --name-a:#7b61ff; --name-b:#ad83ff; --banner:#1e1633;
}
.theme-ocean{
  --bg:#071216; --panel:#0b1b21; --panel-2:#0e232a; --bubble:#0f252e; --bubble-me:#12313a;
  --name-a:#26c6da; --name-b:#00acc1; --banner:#0b1f24;
}
.theme-emerald{
  --bg:#0c140f; --panel:#0f1e15; --panel-2:#13271a; --bubble:#11251a; --bubble-me:#173321;
  --name-a:#34d399; --name-b:#10b981; --banner:#0d1f16;
}
.theme-sunset{
  --bg:#140c0d; --panel:#1d1213; --panel-2:#241515; --bubble:#251616; --bubble-me:#2f1a1b;
  --name-a:#ff7aa2; --name-b:#ffb86b; --banner:#1e1212;
}
.theme-void{
  --bg:#000; --panel:#0a0a0a; --panel-2:#0f0f10; --bubble:#0e0f12; --bubble-me:#121318;
  --name-a:#8e9eab; --name-b:#eef2f3; --banner:#080808;
}

/* App layout */
* { box-sizing: border-box; }
html,body { height: 100%; }
body {
  margin: 0;
  background: radial-gradient(80vw 80vh at 10% -10%, rgba(255,255,255,0.03), transparent),
              radial-gradient(60vw 60vh at 120% 20%, rgba(255,255,255,0.04), transparent),
              var(--bg);
  color: var(--text);
  font: 14px/1.4 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Noto Sans", Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

.app {
  display: grid;
  grid-template-rows: auto 1fr auto;
  height: 100dvh;
  gap: 8px;
}

/* Banner */
.banner {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 14px;
  background: var(--banner);
  border-bottom: 1px solid var(--border);
  position: sticky; top: 0; z-index: 10;
}
.brand { display: flex; align-items: center; gap: 10px; font-weight: 700; }
.brand .dot { width:10px; height:10px; border-radius:999px; background:linear-gradient(135deg,var(--name-a),var(--name-b)); box-shadow:0 0 12px var(--glow); }
.brand .title { letter-spacing:.2px; }
.brand .beta { font-size: 12px; color: var(--muted); background: #00000026; padding: 2px 6px; border-radius: 999px; border:1px solid var(--border); }
.right { display:flex; align-items:center; gap:10px; }
.online { color: var(--muted); }

/* Feed */
.feed {
  padding: 14px;
  overflow: auto;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

/* Message bubbles */
.msg {
  display: grid;
  grid-template-columns: 40px 1fr;
  gap: 10px;
  align-items: start;
}
.msg .avatar {
  width: 40px; height: 40px; border-radius: 12px; object-fit: cover;
  border: 1px solid var(--border);
  background: #101114;
}
.msg .bubble {
  background: var(--bubble);
  border: 1px solid var(--border);
  border-radius: var(--r-xl);
  padding: 10px 12px;
  box-shadow: var(--ring), var(--shadow-1);
  max-width: 900px;
  position: relative;
}
.msg.me .bubble { background: var(--bubble-me); }
.msg .meta {
  display: flex; align-items: center; gap: 8px; margin-bottom: 6px;
}
.name-tag {
  display: inline-flex; align-items: center; gap: 6px;
  font-weight: 700; font-size: 13px;
  color: #fff;
  padding: 4px 10px;
  border-radius: 999px;
  background: linear-gradient(135deg, var(--name-a), var(--name-b));
  box-shadow: 0 6px 20px var(--glow);
}
.name-tag .pill {
  width: 8px; height: 8px; border-radius: 999px; background: #fff;
  opacity: .8;
}
.time { color: var(--muted); font-size: 12px; }
.text { white-space: pre-wrap; word-break: break-word; color: var(--text); }

.attachment {
  margin-top: 8px;
  border-radius: 12px;
  overflow: hidden;
  border: 1px solid var(--border);
  max-width: 480px;
}
.attachment img { display: block; width: 100%; height: auto; }

/* System toast */
.system {
  align-self: center;
  background: var(--panel-2);
  color: var(--muted);
  border: 1px dashed var(--border);
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 12px;
}

/* Composer */
.composer {
  display: grid;
  grid-template-columns: 40px 1fr auto auto;
  gap: 10px;
  padding: 12px 14px;
  border-top: 1px solid var(--border);
  background: var(--panel);
}
.pfp {
  width: 40px; height: 40px; border-radius: 12px; overflow: hidden; cursor: pointer;
  border: 1px solid var(--border);
}
.pfp img { width: 100%; height: 100%; object-fit: cover; display: block; background:#101114; }

.input {
  width: 100%; border: 1px solid var(--border);
  background: var(--panel-2); color: var(--text);
  padding: 10px 12px; border-radius: var(--r-lg);
  outline: none;
}
.input::placeholder { color: var(--muted); }

.btn {
  border: 1px solid var(--border); border-radius: 12px;
  background: var(--panel-2); color: var(--text);
  padding: 10px 12px; cursor: pointer;
}
.btn.primary { background: linear-gradient(135deg, var(--name-a), var(--name-b)); color: #0a0a0a; border: none; font-weight: 700; }
.btn.ghost { background: #00000026; }

/* Typing */
.typing {
  margin: 0 14px 6px; color: var(--muted); font-size: 12px;
}
.hidden { display: none; }

/* Settings drawer */
.settings::backdrop { background: rgba(0,0,0,.5); }
.settings-card {
  width: min(560px, calc(100vw - 24px));
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 16px;
  color: var(--text);
}
.settings-card h2 { margin: 6px 0 12px; }
.row { display: grid; grid-template-columns: 1fr auto auto; gap: 10px; align-items: center; margin: 10px 0; }
.row span { color: var(--muted); }
.actions { display: flex; gap: 10px; margin-top: 6px; }
.hint { color: var(--muted); font-size: 12px; margin-top: 8px; }

/* Scrollbar (subtle) */
.feed::-webkit-scrollbar { height: 12px; width: 12px; }
.feed::-webkit-scrollbar-thumb { background: #ffffff1a; border-radius: 10px; border: 3px solid transparent; background-clip: content-box; }

@media (max-width: 640px) {
  .msg { grid-template-columns: 32px 1fr; }
  .msg .avatar { width: 32px; height: 32px; }
}
